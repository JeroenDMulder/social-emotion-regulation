{
    "type": [
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2
    ],
    "data": [
        "\nR version 4.2.2 (2022-10-31 ucrt) -- \"Innocent and Trusting\"\nCopyright (C) 2022 The R Foundation for Statistical Computing\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\n\nR is free software and comes with ABSOLUTELY NO WARRANTY.\nYou are welcome to redistribute it under certain conditions.\nType 'license()' or 'licence()' for distribution details.\n\nR is a collaborative project with many contributors.\nType 'contributors()' for more information and\n'citation()' on how to cite R or R packages in publications.\n\nType 'demo()' for some demos, 'help()' for on-line help, or\n'help.start()' for an HTML browser interface to help.\nType 'q()' to quit R.\n\n",
        "> ",
        "library(tidyverse)",
        "> ",
        "library(semTools)",
        "> ",
        "library(haven) # Read in .sav files",
        "> ",
        "library(naniar) # Missing data handling",
        "> ",
        "library(ggplot2) # Data visualization",
        "> ",
        "#| label: fig-cens",
        "> ",
        "#| fig-cap: \"Noise blast duration (seconds) per measurement occasion.\"",
        "> ",
        "#| column: margin",
        "> ",
        "#| message: false",
        "> ",
        "read.csv(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_SNAT_Be.csv\") |> ",
        "+ ",
        "  naniar::replace_with_na_all(~ .x == -999) |>",
        "+ ",
        "  dplyr::mutate(",
        "+ ",
        "    noise1 = T1_noiseblast / 1000, ",
        "+ ",
        "    noise2 = T2_noiseblast / 1000,",
        "+ ",
        "    noise3 = T3_noiseblast / 1000",
        "+ ",
        "  ) |>",
        "+ ",
        "  dplyr::select(noise1, noise2, noise3) |>",
        "+ ",
        "  tidyr::pivot_longer(",
        "+ ",
        "    cols = noise1:noise3,",
        "+ ",
        "    names_to = \"wave\",",
        "+ ",
        "    names_prefix = \"noise\",",
        "+ ",
        "    names_transform = list(wave = as.integer),",
        "+ ",
        "    values_to = \"noise\"",
        "+ ",
        "  ) |>",
        "+ ",
        "  dplyr::mutate(",
        "+ ",
        "    censored = ifelse(noise == 3.500, 1, 0),",
        "+ ",
        "    wave_factor = factor(   ",
        "+ ",
        "      wave, ",
        "+ ",
        "      levels = c(\"1\", \"2\", \"3\"), ",
        "+ ",
        "      labels = c(\"Wave 1\", \"Wave 2\", \"Wave 3\")",
        "+ ",
        "    )",
        "+ ",
        "  ) |>",
        "+ ",
        "  ggplot2::ggplot(aes(x = noise)) + ",
        "+ ",
        "    ggplot2::geom_histogram() +",
        "+ ",
        "    ggplot2::scale_x_continuous(breaks = c(0, .5, 1, 1.5, 2, 2.5, 3, 3.5)) + ",
        "+ ",
        "    ggplot2::facet_wrap(. ~ wave_factor, ncol = 1) +",
        "+ ",
        "    ggplot2::labs(x = \"Behavioural response (ms)\", y = \"Frequency\") + ",
        "+ ",
        "    ggplot2::theme_light() + ",
        "+ ",
        "    ggplot2::theme(text = element_text(size = 12))",
        "> ",
        "#| label: fig-cens",
        "> ",
        "#| fig-cap: \"Noise blast duration (seconds) per measurement occasion.\"",
        "> ",
        "#| column: margin",
        "> ",
        "#| message: false",
        "> ",
        "read.csv(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_SNAT_Be.csv\") |> ",
        "+ ",
        "  naniar::replace_with_na_all(~ .x == -999) |>",
        "+ ",
        "  dplyr::mutate(",
        "+ ",
        "    noise1 = T1_noiseblast / 1000, ",
        "+ ",
        "    noise2 = T2_noiseblast / 1000,",
        "+ ",
        "    noise3 = T3_noiseblast / 1000",
        "+ ",
        "  ) |>",
        "+ ",
        "  dplyr::select(noise1, noise2, noise3) |>",
        "+ ",
        "  tidyr::pivot_longer(",
        "+ ",
        "    cols = noise1:noise3,",
        "+ ",
        "    names_to = \"wave\",",
        "+ ",
        "    names_prefix = \"noise\",",
        "+ ",
        "    names_transform = list(wave = as.integer),",
        "+ ",
        "    values_to = \"noise\"",
        "+ ",
        "  ) |>",
        "+ ",
        "  dplyr::mutate(",
        "+ ",
        "    censored = ifelse(noise == 3.500, 1, 0),",
        "+ ",
        "    wave_factor = factor(   ",
        "+ ",
        "      wave, ",
        "+ ",
        "      levels = c(\"1\", \"2\", \"3\"), ",
        "+ ",
        "      labels = c(\"Wave 1\", \"Wave 2\", \"Wave 3\")",
        "+ ",
        "    )",
        "+ ",
        "  ) |>",
        "+ ",
        "  ggplot2::ggplot(aes(x = noise)) + ",
        "+ ",
        "    ggplot2::geom_histogram() +",
        "+ ",
        "    ggplot2::scale_x_continuous(breaks = c(0, .5, 1, 1.5, 2, 2.5, 3, 3.5)) + ",
        "+ ",
        "    ggplot2::facet_wrap(. ~ wave_factor, ncol = 3) +",
        "+ ",
        "    ggplot2::labs(x = \"Behavioural response (ms)\", y = \"Frequency\") + ",
        "+ ",
        "    ggplot2::theme_light() + ",
        "+ ",
        "    ggplot2::theme(text = element_text(size = 12))",
        "> ",
        "df_noise_wide <- read.csv(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_SNAT_Be.csv\") |>",
        "+ ",
        "  select(SubjectID, T1_noiseblast, T2_noiseblast, T3_noiseblast) |>",
        "+ ",
        "  rename(id_orig = SubjectID) |>",
        "+ ",
        "  naniar::replace_with_na_all(~ .x == -999) |>",
        "+ ",
        "  group_by(id_orig) |>",
        "+ ",
        "  summarise(",
        "+ ",
        "    noise1 = ifelse(all(is.na(T1_noiseblast)), NA, 1),",
        "+ ",
        "    noise2 = ifelse(all(is.na(T2_noiseblast)), NA, 1),",
        "+ ",
        "    noise3 = ifelse(all(is.na(T3_noiseblast)), NA, 1)",
        "+ ",
        "  )",
        "> ",
        "df_INS_wide <- haven::read_spss(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_MRI.sav\") |>",
        "+ ",
        "  dplyr::select(SubjectID, ends_with(\"INS_Neg_Neut\")) |>",
        "+ ",
        "  dplyr::rename(id_orig = SubjectID,",
        "+ ",
        "                INS1 = T1_INS_Neg_Neut,",
        "+ ",
        "                INS2 = T2_INS_Neg_Neut,",
        "+ ",
        "                INS3 = T3_INS_Neg_Neut)",
        "> ",
        "df_MPFC_wide <- haven::read_spss(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_MRI.sav\") |>",
        "+ ",
        "  dplyr::select(SubjectID, ends_with(\"MPFC_Neg_Neut\")) |>",
        "+ ",
        "  dplyr::rename(id_orig = SubjectID,",
        "+ ",
        "                MPFC1 = T1_MPFC_Neg_Neut,",
        "+ ",
        "                MPFC2 = T2_MPFC_Neg_Neut,",
        "+ ",
        "                MPFC3 = T3_MPFC_Neg_Neut)",
        "> ",
        "#| label: fig-missing",
        "> ",
        "#| fig-cap: \"Missing data patterns.\"",
        "> ",
        "#| fig-width: 6",
        "> ",
        "#| fig-height: 3",
        "> ",
        "#| warning: false",
        "> ",
        "",
        "> ",
        "df_noise_wide <- read.csv(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_SNAT_Be.csv\") |>",
        "+ ",
        "  select(SubjectID, T1_noiseblast, T2_noiseblast, T3_noiseblast) |>",
        "+ ",
        "  rename(id_orig = SubjectID) |>",
        "+ ",
        "  naniar::replace_with_na_all(~ .x == -999) |>",
        "+ ",
        "  group_by(id_orig) |>",
        "+ ",
        "  summarise(",
        "+ ",
        "    noise1 = ifelse(all(is.na(T1_noiseblast)), NA, 1),",
        "+ ",
        "    noise2 = ifelse(all(is.na(T2_noiseblast)), NA, 1),",
        "+ ",
        "    noise3 = ifelse(all(is.na(T3_noiseblast)), NA, 1)",
        "+ ",
        "  )",
        "> ",
        "  ",
        "> ",
        "df_INS_wide <- haven::read_spss(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_MRI.sav\") |>",
        "+ ",
        "  dplyr::select(SubjectID, ends_with(\"INS_Neg_Neut\")) |>",
        "+ ",
        "  dplyr::rename(",
        "+ ",
        "    id_orig = SubjectID,",
        "+ ",
        "    AI1 = T1_INS_Neg_Neut,",
        "+ ",
        "    AI2 = T2_INS_Neg_Neut,",
        "+ ",
        "    AI3 = T3_INS_Neg_Neut",
        "+ ",
        "  )",
        "> ",
        "",
        "> ",
        "df_MPFC_wide <- haven::read_spss(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_MRI.sav\") |>",
        "+ ",
        "  dplyr::select(SubjectID, ends_with(\"MPFC_Neg_Neut\")) |>",
        "+ ",
        "  dplyr::rename(",
        "+ ",
        "    id_orig = SubjectID,",
        "+ ",
        "    MPFC1 = T1_MPFC_Neg_Neut,",
        "+ ",
        "    MPFC2 = T2_MPFC_Neg_Neut,",
        "+ ",
        "    MPFC3 = T3_MPFC_Neg_Neut",
        "+ ",
        "  )",
        "> ",
        "",
        "> ",
        "df_wide <- haven::read_spss(\"C:\\\\Users\\\\5879167\\\\surfdrive\\\\Research\\\\Applied - Social emotion regulation\\\\data\\\\202204_Research_EmotionRegulation_MRI.sav\") |>",
        "+ ",
        "  dplyr::select(SubjectID, ends_with(\"DLPFC_Neg_Neut\")) |>",
        "+ ",
        "  dplyr::rename(",
        "+ ",
        "    id_orig = SubjectID,",
        "+ ",
        "    DLPFC1 = T1_DLPFC_Neg_Neut,",
        "+ ",
        "    DLPFC2 = T2_DLPFC_Neg_Neut,",
        "+ ",
        "    DLPFC3 = T3_DLPFC_Neg_Neut",
        "+ ",
        "  ) |>",
        "+ ",
        "  dplyr::right_join(df_INS_wide, by = \"id_orig\") |>",
        "+ ",
        "  dplyr::right_join(df_MPFC_wide, by = \"id_orig\") |>",
        "+ ",
        "  dplyr::right_join(df_noise_wide, by = \"id_orig\") |>",
        "+ ",
        "  select(-id_orig)",
        "> ",
        "",
        "> ",
        "rm(\"df_noise_wide\", \"df_INS_wide\", \"df_MPFC_wide\")",
        "> ",
        "",
        "> ",
        "ggmice::plot_pattern(df_wide) +",
        "+ ",
        "  ggplot2::theme(text = element_text(size = 7)) +",
        "+ ",
        "  ggplot2::scale_x_discrete(",
        "+ ",
        "    limits = c(\"DLPFC1\", \"INS1\", \"MPFC1\", \"noise1\",",
        "+ ",
        "               \"DLPFC2\", \"INS2\", \"MPFC2\", \"noise2\",",
        "+ ",
        "               \"DLPFC3\", \"INS3\", \"MPFC3\", \"noise3\")",
        "+ ",
        "  )",
        "> ",
        "#| label: fig-spaghetti",
        "> ",
        "#| fig-cap: \"Observed neural responses across age.\"",
        "> ",
        "#| fig-width: 11",
        "> ",
        "#| fig-height: 3",
        "> ",
        "#| fig-column: page-right",
        "> ",
        "#| warning: false",
        "> ",
        "knitr::include_graphics(\"C:\\\\Users\\\\5879167\\\\Documents\\\\GitHub\\\\social-emotion-regulation\\\\figures\\\\p_brain.png\")",
        "Error in knitr::include_graphics(\"C:\\\\Users\\\\5879167\\\\Documents\\\\GitHub\\\\social-emotion-regulation\\\\figures\\\\p_brain.png\") : \n  Cannot find the file(s): \"C:\\Users\\5879167\\Documents\\GitHub\\social-emotion-regulation\\figures\\p_brain.png\"\n",
        "> ",
        "#| label: fig-spaghetti",
        "> ",
        "#| fig-cap: \"Observed neural responses across age.\"",
        "> ",
        "#| fig-width: 11",
        "> ",
        "#| fig-height: 3",
        "> ",
        "#| fig-column: page-right",
        "> ",
        "#| warning: false",
        "> ",
        "knitr::include_graphics(\"C:\\\\Users\\\\5879167\\\\Documents\\\\GitHub\\\\social-emotion-regulation\\\\figures\\\\p_brain.png\")",
        "> ",
        "#| label: fig-spaghetti",
        "> ",
        "#| fig-cap: \"Observed neural responses across age.\"",
        "> ",
        "#| fig-width: 11",
        "> ",
        "#| fig-height: 3",
        "> ",
        "#| fig-column: page-right",
        "> ",
        "#| warning: false",
        "> ",
        "knitr::include_graphics(\"C:\\\\Users\\\\5879167\\\\Documents\\\\GitHub\\\\social-emotion-regulation\\\\figures\\\\p_brain.png\")",
        "> ",
        "ggmice::plot_pattern(df_wide) +",
        "+ ",
        "  ggplot2::theme(text = element_text(size = 7)) +",
        "+ ",
        "  ggplot2::scale_x_discrete(",
        "+ ",
        "    limits = c(\"DLPFC1\", \"INS1\", \"MPFC1\", \"noise1\",",
        "+ ",
        "               \"DLPFC2\", \"INS2\", \"MPFC2\", \"noise2\",",
        "+ ",
        "               \"DLPFC3\", \"INS3\", \"MPFC3\", \"noise3\")",
        "+ ",
        "  )",
        "> ",
        "?plot_pattern",
        "> ",
        "p_missing <- ggmice::plot_pattern(df_wide) +",
        "+ ",
        "  ggplot2::theme(text = element_text(size = 12)) +",
        "+ ",
        "  ggplot2::scale_x_discrete(",
        "+ ",
        "    limits = c(\"DLPFC1\", \"AI1\", \"MPFC1\", \"noise1\",",
        "+ ",
        "               \"DLPFC2\", \"AI2\", \"MPFC2\", \"noise2\",",
        "+ ",
        "               \"DLPFC3\", \"AI3\", \"MPFC3\", \"noise3\")",
        "+ ",
        "  )",
        "> ",
        "p_missing",
        "> ",
        "file.choose9)",
        "Error: unexpected ')' in \"file.choose9)\"\n",
        "> ",
        "file.choose()",
        "[1] \"C:\\\\Users\\\\5879167\\\\Documents\\\\GitHub\\\\social-emotion-regulation\\\\figures\\\\p_brain.png\"\n",
        "> ",
        "ggsave(",
        "+ ",
        "  filename = \"C:\\\\Users\\\\5879167\\\\Documents\\\\GitHub\\\\social-emotion-regulation\\\\figures\\\\p_missing.png\",",
        "+ ",
        "  plot = p_missing",
        "+ ",
        ")",
        "> ",
        "?plot_pattern",
        "> ",
        "install.packages(\"ggmice\")",
        "Error in install.packages : Updating loaded packages\n\nRestarting R session...\n\n"
    ]
}